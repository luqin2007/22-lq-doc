# 运算符

Lua 共有 25 个运算符，逻辑运算符、比较运算符都可以直接映射到 Go 对应运算符
## 算术运算符

其他运算符都可以直接映射到 Go 运算符，比较特殊的有：
- 整除（`//`）向 `-∞` 取整，而不是简单的截断
- 取模（`%`）可通过整除定义（`a%b=a-(a//b)*b`）
- 乘方（`^`）和字符串连接（字符串 `..`）具有右结合性，其余为左结合
## 按位运算

其他运算符都可以直接映射到 Go 运算符，比较特殊的有：
- 右移为无符号右移
- 左右移 `-n` 位相当于向反方向移动 `n` 位
# 自动类型转换

运算过程中的类型包括：

- 算术运算符
	- 除法、乘方
		- 操作数为整数时，提升为浮点
		- 操作数为字符串时，尝试解析成浮点
		- 结果为浮点
	- 其他
		- 若所有运算数都是整数，则执行整型运算
		- 若操作数中有浮点，全部提升为浮点数后运算，结果为浮点数
- 按位运算符
	- 若操作数为浮点数，但实际是整数（如 10.0），且没有超出 `int64` 范围，转换为整型
	- 若操作数为字符串，先尝试转换为整型，失败则尝试转换为浮点再转换为整型
	- 结果为整型
- 字符串拼接
	- 操作数为数字，则转换为字符串
