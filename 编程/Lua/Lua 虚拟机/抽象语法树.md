> [!note] 具体语法树：CST，Concrete Syntax Tree，又称解析树，是解析源代码的结果，包含源代码中的各种信息

> [!note] 抽象语法树：AST，Abstract Syntax Tree，去除具体语法树中多余的信息，仅留下必要信息
> - 分号等
> - 运算符优先级等

![[../../../_resources/images/抽象语法树 2024-12-04 08.11.26.excalidraw]]
> [!attention] 通常，大多数编译器不会按部就班先解析成 CST 再转化成 AST，而是直接产生 AST
# EBNF

> [!note] CFG：Context-free Grammer，上下文无关块

> [!note] EBNF：Extended Backus-Naur Form，扩展的巴克斯范式

编程语言语法通常使用 CFG 描述，CFG 通常使用巴克斯范式 BNF 或扩展巴克斯范式 EBNF 描述。BNF/EBNF 可以通过语法图（铁路图）直观表示

![[../../../_resources/images/Pasted image 20241204091909.png]]

以下是 Lua 的 chunk 的 EBNF 描述：

```ebnf
chunk ::= block
block ::= {stat} [retstat]
retstat ::= return [explist] [';']
explist ::= exp {',' exp}
```
- `::=`：“定义为”，后面是前面的描述
- `{A}`：重复任意次，类似正则的 `*`
- `[A]`：可选，类似正则的 `?`

上面的 EBNF 描述的 chunk 定义即：
- `chunk` 是一个 `block`（代码块）
- `block` 是任意多个 `stat`（语句）+ `retstat`（返回语句）
- `retstat` 是 `return` 后跟可选的 `explist`（表达式列表），末尾 `;` 可选
- `explist` 是一个或多个 `exp`（表达式），使用 `,` 分隔

将其表示为语法图为：
