---
~
---
Lua 中迭代器实现为一个函数，返回多个值，当第一个值为 `nil` 时表示迭代结束。

```lua
for var1, var2, ..., varn in explist do
    -- do something
end
```

其等效循环形式如下：

```lua
do
    local _f, _s, _var = explist
    while true do
        local var1, var2, ..., varn = _f(_S, _var)
        if var1 == nil
            break
        end
        _var = var1
        -- do something
    end
end
```

根据 Lua 函数赋值规则，`explist` 至少为一个函数，最多为函数+常量+变量的组合，其中 `_s` 和 `_var` 可以用于保存一些状态。
- `_s` 可以看做是一个表，用于保存状态
- `_var` 是上一次循环的值

另外，针对数组和关联数组，Lua 提供 `ipair` 和 `pair` 函数用于迭代循环
# 实现

在结构上，只需要修改 Table，固定下键顺序方便循环使用


# 指令