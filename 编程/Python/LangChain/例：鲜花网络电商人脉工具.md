> [!example] 项目目标：帮助易速鲜花电商网络的市场营销部门员工找到微博上适合鲜花推广的大 V，并给出具体联络方案

# 实现方案

1. 查找适合鲜花推广的大 V
	- 工具：搜索工具，模糊搜索
	- 目标：对相关鲜花推广感兴趣的大 V
	- 输出：UID
2. 获取微博 UID 对应大 V 的公开信息
	- 工具：爬虫
	- 输出：Json 格式的大 V 数据
3. 根据大 V 信息，由 LLM 生成介绍文章，谋求合作
	- 输出：格式化输出
4. 添加 HTML、CSS，使用 Flask 创建 APP 工具，部署、发布

# 搜索大 V

提示词模板：
- 识别微博 UID：约定微博网址格式（以 xxx  开头），并通过一个例子告诉 LLM 如何提取网址中的 UID

![[../../../_resources/images/Pasted image 20241122213438.png]]

代理工具：`get_UID`，可以使用 `SerpAPIWrapper`
- 搜索关键字
- 重写 `_process_response` 返回携带网址（`link`）而不是摘要（`snippet`）

## 爬取资料

封装成一个工具，直接使用 `response` 即可
- Header、Cookie
- URL：`https://weibo.com/ajax/profile/detail?uid={}`
- 防止反爬（加延迟）
- 过滤精简：使用正则过滤掉不包含中文的字段
# 生成介绍文档

提示词模板：

![[../../../_resources/images/Pasted image 20241122215754.png]]
## 输入输出解析

为方便工具部署，使用 `PydanticOutputParser` 提示输出

![[../../../_resources/images/Pasted image 20241122215858.png]]
