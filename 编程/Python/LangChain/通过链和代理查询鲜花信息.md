LangChain 可以通过链或代理操作数据库，使用 LLM 简化数据库操作

使用 sqlite3 创建数据库：

![[../../../_resources/images/Pasted image 20241116183830.png]]
# 链

使用 SQLDatabaseChain 查询数据库

> [!note] `SQLDatabaseChain` 属于 `langchain_experimental` 包

![[../../../_resources/images/Pasted image 20241116211632.png]]

# 代理

使用代理相对于链有以下优点：
- 可以参考数据库架构和内容回答问题，而不是仅构建查询
- 具有纠错能力，可以捕获错误并重新生成

![[../../../_resources/images/Pasted image 20241116222303.png]]

使用代理，LangChain 会根据思考 - 观察 - 行动模型逐步思考并回答问题

![[../../../_resources/images/Pasted image 20241116222439.png]]