# 渲染通道

> [!note] 渲染通道：RenderPass，指定渲染过程中，所绑定的帧缓冲的参数及各个渲染步骤之间的关系

渲染通道由图像附件 `attachment`、子通道描述 `subpass` 和子通道依赖 `VkSubpassDependency` 组合而成，是对渲染流程的抽象
## 创建渲染通道

使用 `vkCreateRenderPass` 创建渲染通道

| 成员                  | 类型                         | 说明                                          |
| ------------------- | -------------------------- | ------------------------------------------- |
| `sType`             |                            | `VK_STRUCTURE_TYPE_RENDER_PASS_CREATE_INFO` |
| `attachmentCount`   | `uint32_t`                 | 图像附件的数量                                     |
| `pAttachments`      | `VkAttachmentDescription*` | 图像附件                                        |
| `subpassCount`      | `uint32_t`                 | 子通道的数量                                      |
| `pSubpasses`        | `VkSubpassDescription*`    | 子通道                                         |
| `dependenciesCount` | `uint32_t`                 | 子通道依赖的数量                                    |
| `pDependencies`     | `VkSubpassDependency*`     | 子通道依赖                                       |
### 图像附件

| 成员               | 类型                      | 说明                                                           |
| ---------------- | ----------------------- | ------------------------------------------------------------ |
| `flags`          |                         | VK_ATTACHMENT_DESCRIPTION_MAY_ALIAS_BIT 说明该图像附件可能与其他图像附件共用内存 |
| `format`         | `VkFormat`              | 图像附件的格式，与要被用作图像附件的image view的格式一致                            |
| `samples`        | `VkSampleCountFlagBits` | 每个像素的采样点数量                                                   |
| `loadOp `        | `VkAttachmentLoadOp`    | 读取图像附件时，对颜色和深度值进行的操作                                         |
| `storeOp`        | `VkAttachmentStoreOp`   | 存储颜色和深度值到图像附件时的操作，或指定不在乎存储                                   |
| `stencilLoadOp`  | `VkAttachmentLoadOp`    | 读取图像附件时，对模板值进行的操作                                            |
| `stencilStoreOp` | `VkAttachmentStoreOp`   | 存储模板值到图像附件时的操作，或指定不在乎存储                                      |
| `initialLayout`  | `VkImageLayout`         | 读取图像附件时的内存布局                                                 |
| `finalLayout`    | `VkImageLayout`         | 存储渲染结果到图像附件时，需转换至的内存布局                                       |
### 子通道
### 子管道依赖
## 开始渲染
## 结束通道
# 帧缓冲

> [!note] 帧缓冲：在一个渲染通道中必要的一组图像附件 attachment 的集合

